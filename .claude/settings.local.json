{
  "permissions": {
    "allow": [
      "Read(//mnt/c/Users/Onue/Desktop/canli menu/samba/samba/UI/**)",
      "Bash(npm run dev:*)",
      "Read(//mnt/c/Users/Onue/Desktop/**)",
      "Bash(find:*)",
      "Bash(pkill:*)",
      "Bash(mkdir:*)",
      "Bash(npm run build)",
      "Bash(dotnet run)",
      "Bash(dotnet build:*)",
      "Bash(curl:*)",
      "WebSearch",
      "Bash(fuser:*)",
      "Bash(while read file)",
      "Bash(do sed -i 's/api\\.canlimenu\\.com/canlimenu.online/g' \"$file\")",
      "Bash(echo:*)",
      "Bash(done)",
      "Bash(while IFS= read -r file)",
      "Bash(xargs:*)",
      "Bash(nc:*)",
      "Bash(timeout 5 bash -c 'echo > /dev/tcp/mssql02.trwww.com/1433')",
      "Bash(ping:*)",
      "Bash(/opt/mssql-tools/bin/sqlcmd -S 94.73.151.69,1433 -U u2480364_userDAF -P 'pt:U6uQ-t8U8A6=-' -d u2480364_dbDAF -Q \"SELECT 1 AS test\")",
      "Bash(/opt/mssql-tools/bin/sqlcmd -S 94.73.151.69,1433 -U u2480364_userDAF -P 'pt:U6uQ-t8U8A6=-' -d u2480364_dbDAF -i /tmp/canligarson_clean.sql -b)",
      "Bash(/opt/mssql-tools/bin/sqlcmd:*)",
      "WebFetch(domain:canlimenu.online)",
      "Bash(cat:*)",
      "Bash(git add:*)",
      "Bash(dig:*)",
      "Bash(nslookup:*)",
      "Bash(git config:*)",
      "Bash(whois:*)",
      "WebFetch(domain:www.kvkk.gov.tr)",
      "WebFetch(domain:www.calinokcuhukuk.com)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(python3:*)",
      "Bash(npx js-beautify:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "WebFetch(domain:dnschecker.org)",
      "Bash(host:*)",
      "Bash(timeout 10 bash:*)",
      "Bash(dotnet publish:*)",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"dotnet build\")",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"dotnet publish -c Release -o ./publish\")",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"cd /d C:\\Users\\Onue\\Desktop\\canli menu\\samba\\samba\\MenuPark.API && dotnet build\")",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"cd /d C:\\Users\\Onue\\Desktop\\canli menu\\samba\\uinew && git push\")",
      "Bash(git -C '/mnt/c/Users/Onue/Desktop/canli menu/samba/samba' status)",
      "WebFetch(domain:localhost)",
      "Bash(npm update:*)",
      "WebFetch(domain:www.natro.com)",
      "WebFetch(domain:www.hetzner.com)",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"cd /d C:\\Users\\Onue\\Desktop\\canli menu\\samba\\samba\\MenuPark.API && dotnet publish -c Release -o C:\\Publish\\menupark\\api\")",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"dir /b C:\\Publish\\menupark\\api\")",
      "Bash(ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# 1. Systemd servisi oluştur\ncat > /etc/systemd/system/menupark-api.service << ''EOF''\n[Unit]\nDescription=MenuPark API\nAfter=network.target\n\n[Service]\nWorkingDirectory=/var/www/menupark-api\nExecStart=/usr/bin/dotnet /var/www/menupark-api/MenuPark.API.dll\nRestart=always\nRestartSec=10\nSyslogIdentifier=menupark-api\nUser=www-data\nEnvironment=ASPNETCORE_ENVIRONMENT=Production\nEnvironment=ASPNETCORE_URLS=http://localhost:5000\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# 2. www-data kullanıcısına yetki ver\nchown -R www-data:www-data /var/www/menupark-api\n\n# 3. Servisi etkinleştir ve başlat\nsystemctl daemon-reload\nsystemctl enable menupark-api\nsystemctl start menupark-api\n\n# 4. Servis durumunu kontrol et\nsystemctl status menupark-api --no-pager\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# Systemd servisi oluştur\ncat > /etc/systemd/system/menupark-api.service << ''EOF''\n[Unit]\nDescription=MenuPark API\nAfter=network.target\n\n[Service]\nWorkingDirectory=/var/www/menupark-api\nExecStart=/usr/bin/dotnet /var/www/menupark-api/MenuPark.API.dll\nRestart=always\nRestartSec=10\nSyslogIdentifier=menupark-api\nUser=www-data\nEnvironment=ASPNETCORE_ENVIRONMENT=Production\nEnvironment=ASPNETCORE_URLS=http://localhost:5000\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# Yetkileri ayarla\nchown -R www-data:www-data /var/www/menupark-api\n\n# Servisi başlat\nsystemctl daemon-reload\nsystemctl enable menupark-api\nsystemctl start menupark-api\nsystemctl status menupark-api --no-pager\n\")",
      "Bash(sudo apt-get:*)",
      "Bash(apt-get install:*)",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# 1. Systemd servisi oluştur\ncat > /etc/systemd/system/menupark-api.service << ''EOF''\n[Unit]\nDescription=MenuPark API\nAfter=network.target\n\n[Service]\nWorkingDirectory=/var/www/menupark-api\nExecStart=/usr/bin/dotnet /var/www/menupark-api/MenuPark.API.dll\nRestart=always\nRestartSec=10\nSyslogIdentifier=menupark-api\nUser=www-data\nEnvironment=ASPNETCORE_ENVIRONMENT=Production\nEnvironment=ASPNETCORE_URLS=http://localhost:5000\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\n# 2. Yetkileri ayarla\nchown -R www-data:www-data /var/www/menupark-api\n\n# 3. Servisi başlat\nsystemctl daemon-reload\nsystemctl enable menupark-api\nsystemctl start menupark-api\necho ''=== API Service Status ===''\nsystemctl status menupark-api --no-pager\n\")",
      "Bash(ssh-keygen:*)",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"ls -la /var/www/ && echo ''---'' && find / -name ''MenuPark.API.dll'' 2>/dev/null\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"mkdir -p /var/www/menupark-api\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\nls -la /var/www/menupark-api/ | head -20\necho ''---''\necho ''File count:''\nls /var/www/menupark-api/ | wc -l\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# Nginx başlat ve etkinleştir\nsystemctl start nginx\nsystemctl enable nginx\n\necho ''=== Nginx Status ===''\nsystemctl status nginx --no-pager | head -15\n\necho ''''\necho ''=== Test API ===''\ncurl -s http://localhost:5000/api/health 2>/dev/null || curl -s http://localhost:5000/ | head -5\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"dig +short canlimenu.online A\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"curl -s http://localhost:5000/api/Menu/health 2>/dev/null || curl -s -o /dev/null -w ''%{http_code}'' http://localhost:5000/\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"journalctl -u menupark-api -n 50 --no-pager\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"cat /var/www/menupark-api/appsettings.Production.json\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# Nginx ayarını güncelle\ncat > /etc/nginx/sites-available/menupark-api << ''EOF''\nserver {\n    listen 80;\n    server_name apicanlimenu.online www.apicanlimenu.online;\n\n    client_max_body_size 100M;\n\n    location / {\n        proxy_pass http://localhost:5000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"\"upgrade\"\";\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n        proxy_cache_bypass $http_upgrade;\n        proxy_read_timeout 86400;\n        proxy_send_timeout 86400;\n    }\n}\nEOF\n\nnginx -t && systemctl reload nginx\necho ''Nginx updated for apicanlimenu.online''\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\n# DNS kontrol\necho ''=== DNS Check ===''\ndig +short apicanlimenu.online A\n\n# SSL sertifikası al\necho ''''\necho ''=== Getting SSL Certificate ===''\ncertbot --nginx -d apicanlimenu.online -d www.apicanlimenu.online --non-interactive --agree-tos --email aruonur@gmail.com\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\napt-get update && apt-get install -y certbot python3-certbot-nginx\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\necho ''=== DNS Check ===''\ndig +short apicanlimenu.online A\necho ''''\n\n# SSL al\ncertbot --nginx -d apicanlimenu.online -d www.apicanlimenu.online --non-interactive --agree-tos --email aruonur@gmail.com\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\necho ''Google DNS:''\ndig +short apicanlimenu.online A @8.8.8.8\n\necho ''Cloudflare DNS:''\ndig +short apicanlimenu.online A @1.1.1.1\n\necho ''Natro NS check:''\ndig NS apicanlimenu.online +short\n\")",
      "Bash(git diff:*)",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\necho ''=== API Service Status ===''\nsystemctl status menupark-api --no-pager | head -15\n\necho ''''\necho ''=== DNS Check ===''\ndig +short apicanlimenu.online A @8.8.8.8\n\necho ''''\necho ''=== Test API ===''\ncurl -s -o /dev/null -w ''%{http_code}'' http://localhost:5000/\n\")",
      "Bash(sshpass -p 'UexAPtNfJhPu' ssh -o StrictHostKeyChecking=no root@46.224.32.229 \"\ncertbot --nginx -d apicanlimenu.online --non-interactive --agree-tos --email aruonur@gmail.com\n\")",
      "Bash(sshpass:*)",
      "Bash(do sed -i 's|https://canlimenu.online/Uploads/|/uploads/|g' \"$file\")",
      "Bash(for i in 1 2 3)",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/Uploads/4/Logo/abb630a2-d42b-4c35-adae-ecddd99709a2.jpg\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://canlimenu.online/Uploads/4/Logo/abb630a2-d42b-4c35-adae-ecddd99709a2.jpg\")",
      "Bash(ls:*)",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/Uploads/1/Logo/d1a5c0ed-efab-4fdf-b73d-1e041e55c363.png\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/Uploads/backround/1.jpg\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/api/Menu/4\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://canlimenu.online/Uploads/1/Logo/d1a5c0ed-efab-4fdf-b73d-1e041e55c363.png\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://canlimenu.online/api/Menu/4\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/api/Menu/GetMenuDto?code=canlimenu\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" \"https://apicanlimenu.online/Uploads/1/Logo/f2ecf3c3-d8d3-488e-b637-c21ab90459ee.png\")",
      "Bash(do curl -s -o /dev/null -w \"Test $i: %{time_total}s\\n\" -k -H \"Host: apicanlimenu.online\" \"https://46.224.32.229/api/Menu/GetMenuDto?code=canlimenu\")",
      "Bash(for i in 1 2 3 4 5)",
      "Bash(grep:*)",
      "Bash(npx tsc:*)",
      "Bash(/mnt/c/Windows/System32/cmd.exe /c \"cd /d C:\\Users\\Onue\\Desktop\\canli menu\\samba\\samba && dotnet clean && dotnet build -c Release\")",
      "Bash(/mnt/c/Windows/System32/cmd.exe:*)",
      "Bash(export SSHPASS='KCILpMCVubZf4PMO3')",
      "Bash(ssh:*)",
      "Bash(scp:*)",
      "Bash(chmod:*)",
      "Bash(npm info:*)",
      "Bash(TOKEN=\"AQAAANCMnd8BFdERjHoAwE_Cl-sBAAAAp0v2m-xjmEaVcOrgZ_6ipQAAAAACAAAAAAAQZgAAAAEAACAAAADq5DXFyYpNBPXKmM4UiYrPyRlFw4m1sZ4U8oTwDzi0eQAAAAAOgAAAAAIAACAAAABKG-ReEb0cOjRoLXjq3whGOg-dMw4B0Z0S6HNp_5q9iZAAAABXSEpanpVLbBzv6BubNhpFGJOSSQezlyrpdWP49r8Y5BN-w_8RV6-NGwMN2kid0Q1T91VZ7FrGHqjv_hd74NyGJHyPLlEUHw8nJrayQSGZQf1fQ4DNQedpOjO27q62sLAgIHKTQ2zl-S8nfBWWYzFBHmCjE6mbXDQh89aJzIvQiVCeL9kwC7inESvyTSPmZd5AAAAAT4pJURnFhBYtfDSSlEQgou6ogAMMm29t0d4s5VAjJcvAytG6_gh8wiE47IXjubm0etWrTft97KpDDeLyCghBuQ\")",
      "Bash(git checkout:*)",
      "Bash(TOKEN=\"AQAAANCMnd8BFdERjHoAwE_Cl-sBAAAAZHgVmVpB-0qmCvkKl2z-FQAAAAACAAAAAAAQZgAAAAEAACAAAABgWNWbYzuMTjzTINi9LwG8-aLX-6p6dYqI8Wl6xCowzQAAAAAOgAAAAAIAACAAAADo3OXcuuJ5xsh_zar1O00cGmOVeXBRKyheVjati_1inpAAAABPG-Sm4qI-oS_3Yjtp1T187xFLwDarKKRSi2HUmj8nSv3uvnmwKjg3gxR46wH3ULCX1oqzIdOMkWHMVAzFAmSSePHxGHEYqcZPVNYDTgEbNyZGuZlpCrBJe_xo102tYFjTBeFkTmnSOY8-FyhtAHzZeRhsod3ntEegH7VD7C--FC_Qt0ac5Acm5CyYPSj0E_lAAAAAdMyygWzPkfOusMhLcuQQ9L0hlzon9rLfHgcQo78GTqkX2gSuUJbNcNewq2hh5klATNFh1OO7bxUf2bl_tI0t3w\")",
      "Bash(powershell.exe -Command \"cd ''''C:\\Users\\Onue\\Desktop\\canli menu\\samba\\samba\\MenuPark.API''''; dotnet build\")",
      "Bash(powershell.exe -Command \"\n$conn = ''Server=94.73.145.8,1433;Database=u2503900_canli;User Id=u2503900_canli;Password=PR7Yvj5@A-qa3=4:;TrustServerCertificate=True''\nInvoke-Sqlcmd -ConnectionString $conn -Query ''SELECT TOP 1 Id, Name FROM Customers''\n\")",
      "Bash(powershell.exe -Command \"\n$conn = ''Server=94.73.145.8,1433;Database=u2503900_canli;User Id=u2503900_canli;Password=PR7Yvj5@A-qa3=4:;TrustServerCertificate=True''\n\n$sql = @''\nIF NOT EXISTS \\(SELECT * FROM sys.columns WHERE object_id = OBJECT_ID\\(''Customers''\\) AND name = ''Latitude''\\)\nBEGIN\n    ALTER TABLE Customers ADD Latitude DECIMAL\\(10,7\\) NULL;\nEND\n\nIF NOT EXISTS \\(SELECT * FROM sys.columns WHERE object_id = OBJECT_ID\\(''Customers''\\) AND name = ''Longitude''\\)\nBEGIN\n    ALTER TABLE Customers ADD Longitude DECIMAL\\(10,7\\) NULL;\nEND\n\nIF NOT EXISTS \\(SELECT * FROM sys.columns WHERE object_id = OBJECT_ID\\(''Customers''\\) AND name = ''RequireLocationVerification''\\)\nBEGIN\n    ALTER TABLE Customers ADD RequireLocationVerification BIT NOT NULL DEFAULT 0;\nEND\n\nIF NOT EXISTS \\(SELECT * FROM sys.columns WHERE object_id = OBJECT_ID\\(''Customers''\\) AND name = ''LocationToleranceMeters''\\)\nBEGIN\n    ALTER TABLE Customers ADD LocationToleranceMeters INT NOT NULL DEFAULT 150;\nEND\n\nSELECT ''OK'' as Result\n''@\n\nInvoke-Sqlcmd -ConnectionString $conn -Query $sql\n\")",
      "Bash(powershell.exe -Command \"\n$conn = ''Server=94.73.145.8,1433;Database=u2503900_canli;User Id=u2503900_canli;Password=PR7Yvj5@A-qa3=4:;TrustServerCertificate=True''\nInvoke-Sqlcmd -ConnectionString $conn -Query \"\"SELECT COLUMN_NAME, DATA_TYPE FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = ''Customers'' AND COLUMN_NAME IN \\(''Latitude'', ''Longitude'', ''RequireLocationVerification'', ''LocationToleranceMeters''\\)\"\"\n\")"
    ],
    "deny": [],
    "ask": []
  }
}
