module.exports=[33012,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0);function e({children:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null);(0,c.useEffect)(()=>{},[]);let m=(0,c.useCallback)((a,b)=>{f(a),h(b),j(!1),l(null)},[]),n=(0,c.useCallback)(a=>{let b;j(!0),l(a),h("Self-Servis"),f(null),(b=new Date).setTime(b.getTime()+864e5),document.cookie=`isSelfService=true;expires=${b.toUTCString()};path=/`},[]),o=(0,c.useCallback)(()=>{f(null),h(null),j(!1),l(null),document.cookie="isSelfService=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;"},[]);return(0,b.jsx)(d.Provider,{value:{tableId:e,tableName:g,isSelfService:i,sessionId:k,setTableInfo:m,setSelfServiceMode:n,clearTableInfo:o,isTableMode:!!e||i,canCallWaiter:!!e&&!i},children:a})}function f(){let a=(0,c.useContext)(d);if(void 0===a)throw Error("useTable must be used within a TableProvider");return a}a.s(["TableProvider",()=>e,"useTable",()=>f])},27064,49468,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(33012);function e(a,b,c){try{let d={items:b,timestamp:Date.now(),customerCode:c};localStorage.setItem(`cart_${a}`,JSON.stringify(d))}catch(a){console.error("Cart save error:",a)}}function f(a,b){try{let c=localStorage.getItem(`cart_${a}`);if(!c)return[];let d=JSON.parse(c);if(d.customerCode&&d.customerCode!==b)return console.log("ðŸ—‘ï¸ Cart cleared: Different customer code",{old:d.customerCode,new:b}),g(a),[];let e=Date.now()-(d.timestamp||0);if(e>108e5)return console.log("ðŸ—‘ï¸ Cart cleared: Expired (> 3 hours)",{age:Math.floor(e/1e3/60),minutes:Math.floor(e/1e3/60)}),g(a),[];return d.items||[]}catch(a){return console.error("Cart load error:",a),[]}}function g(a){try{localStorage.removeItem(`cart_${a}`)}catch(a){console.error("Cart clear error:",a)}}function h(a,b){a&&b&&f(a,b)}a.s(["checkAndCleanCart",()=>h,"clearCart",()=>g,"loadCart",()=>f,"saveCart",()=>e],49468);let i=(0,c.createContext)(void 0);function j({children:a}){let{isTableMode:e,isSelfService:f,sessionId:g,tableId:j}=(0,d.useTable)(),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)({}),[O,P]=(0,c.useState)(0),Q=s||g||j||"";return(0,c.useEffect)(()=>{Q&&q&&h(Q,q)},[Q,q]),(0,b.jsx)(i.Provider,{value:{menuData:k,setMenuData:l,customerData:m,setCustomerData:n,categoriesData:o,setCategoriesData:p,customerCode:q,setCustomerCode:r,tableId:s,setTableId:t,selectedCategory:u,setSelectedCategory:v,selectedProduct:w,setSelectedProduct:x,isProductListModalOpen:y,openProductListModal:a=>{B(!1),D(!1),L(!1),x(null),F(null),v(a),z(!0),document.body.style.overflow="hidden"},closeProductListModal:()=>{z(!1),document.body.style.overflow="",setTimeout(()=>v(null),300)},isProductDetailModalOpen:A,openProductDetailModal:a=>{z(!1),D(!1),L(!1),v(null),F(null),x(a),B(!0),document.body.style.overflow="hidden"},closeProductDetailModal:()=>{B(!1),document.body.style.overflow="",setTimeout(()=>x(null),300)},isGameModalOpen:C,selectedGame:E,activeGame:G,setActiveGame:H,openGameModal:a=>{z(!1),B(!1),L(!1),v(null),x(null),F(a||null),D(!0),document.body.style.overflow="hidden"},closeGameModal:()=>{D(!1),H(null),document.body.style.overflow="",setTimeout(()=>F(null),300)},pendingJoinRoomId:I,setPendingJoinRoomId:J,isProfileOpen:K,openProfile:()=>{z(!1),B(!1),D(!1),v(null),x(null),F(null),L(!0),document.body.style.overflow="hidden"},closeProfile:()=>{L(!1),document.body.style.overflow=""},productTokenSettings:M,setProductTokenSettings:N,userTokenBalance:O,setUserTokenBalance:P,isTableMode:e,isSelfService:f,sessionId:g,cartKey:Q},children:a})}function k(){let a=(0,c.useContext)(i);if(void 0===a)throw Error("useMenu must be used within a MenuProvider");return a}a.s(["MenuProvider",()=>j,"useMenu",()=>k],27064)},18642,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0);function e({children:a}){let[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),i=a=>a?a.success&&a.user?a.user:a:null;(0,c.useEffect)(()=>{j()},[]);let j=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("userToken"),b=localStorage.getItem("userData");if(!a)return void h(!1);if(b)try{let c=JSON.parse(b),d=i(c);d&&d!==c&&localStorage.setItem("userData",JSON.stringify(d)),f(d),k(a).catch(()=>{n()})}catch(a){console.error("âŒ Failed to parse user data:",a),localStorage.removeItem("userData")}else a&&await k(a)}catch(a){console.error("âŒ Session check error:",a)}finally{h(!1)}},[]),k=async a=>{try{let b=await fetch("/api/auth/profile",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!b.ok)throw Error("Token validation failed");let c=await b.json(),d=i(c);return f(d),localStorage.setItem("userData",JSON.stringify(d)),!0}catch(a){return console.error("âŒ Token validation error:",a),n(),!1}},l=async(a,b)=>{try{let c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneOrEmail:a,password:b})}),d=await c.json();if(!c.ok||!d.success)return{success:!1,error:d.message||"GiriÅŸ baÅŸarÄ±sÄ±z. LÃ¼tfen bilgilerinizi kontrol edin."};let e=i(d);return localStorage.setItem("userToken",d.token),localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem("lastLoginTime",Date.now().toString()),f(e),{success:!0}}catch(a){return console.error("âŒ Login error:",a),{success:!1,error:"BaÄŸlantÄ± hatasÄ±. LÃ¼tfen tekrar deneyin."}}},m=async a=>{try{let b=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:a.name,lastName:a.surname,email:a.email,password:a.password,phoneNumber:a.phoneNumber})}),c=await b.json();if(!b.ok||!c.success)return{success:!1,error:c.message||"KayÄ±t baÅŸarÄ±sÄ±z. LÃ¼tfen bilgilerinizi kontrol edin."};if(c.token&&c.user){let a=i(c);localStorage.setItem("userToken",c.token),localStorage.setItem("userData",JSON.stringify(a)),localStorage.setItem("lastLoginTime",Date.now().toString()),f(a)}return{success:!0}}catch(a){return console.error("âŒ Registration error:",a),{success:!1,error:"BaÄŸlantÄ± hatasÄ±. LÃ¼tfen tekrar deneyin."}}},n=(0,c.useCallback)(()=>{localStorage.removeItem("userToken"),localStorage.removeItem("userData"),localStorage.removeItem("lastLoginTime"),f(null)},[]),o=async()=>{let a=localStorage.getItem("userToken");if(a)try{let b=await fetch("/api/auth/profile",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(b.ok){let a=await b.json(),c=i(a);f(c),localStorage.setItem("userData",JSON.stringify(c))}}catch(a){console.error("âŒ Profile refresh error:",a)}},p=(0,c.useCallback)(a=>{f(b=>{if(!b)return null;let c={...b,tokenBalance:a};return localStorage.setItem("userData",JSON.stringify(c)),c})},[]);return(0,b.jsx)(d.Provider,{value:{currentUser:e,isAuthenticated:!!e,isLoading:g,login:l,register:m,logout:n,refreshUserProfile:o,updateTokenBalance:p},children:a})}function f(){let a=(0,c.useContext)(d);if(void 0===a)throw Error("useAuth must be used within a UserProvider");return a}a.s(["UserProvider",()=>e,"useAuth",()=>f])},69590,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=(0,c.createContext)(void 0),e={tr:{profile:"Profilim",aiAssistant:"AI Asistan",waiterCall:"Garson Ã‡aÄŸÄ±r",games:"Beklerken EÄŸlen",cart:"Sepetim",callUs:"Bizi ArayÄ±n",sendSuggestion:"Ã–neri GÃ¶nder",home:"Ana Sayfa",featuredProducts:"Ã–ne Ã‡Ä±kan ÃœrÃ¼nler",bestSelling:"En Ã‡ok SatÄ±lan ÃœrÃ¼nler",price:"Fiyat",addToCart:"Sepete Ekle",description:"AÃ§Ä±klama:",noPriceMessage:"Fiyat bilgisi iÃ§in lÃ¼tfen garsonumuza danÄ±ÅŸÄ±n",tokenEarn:"Bu Ã¼rÃ¼nden {amount} jeton kazanacaksÄ±nÄ±z",tokenRedeem:"{amount} jeton ile bedava alabilirsiniz",previousProduct:"Ã–nceki ÃœrÃ¼n",nextProduct:"Sonraki ÃœrÃ¼n",myCart:"Sepetim",emptyCart:"Sepetiniz boÅŸ",total:"Toplam",placeOrder:"SipariÅŸ Ver",note:"Not",myProfile:"Profilim",orders:"SipariÅŸlerim",tokens:"JetonlarÄ±m",allergies:"Alerji Bilgilerim",settings:"Ayarlar",login:"GiriÅŸ Yap",register:"KayÄ±t Ol",logout:"Ã‡Ä±kÄ±ÅŸ Yap",suggestionTitle:"Ã–neri & Geri Bildirim",suggestionSubtitle:"Fikirleriniz bizim iÃ§in deÄŸerli!",name:"Ä°sim",nameOptional:"Ä°sim (Opsiyonel)",venueRequest:"GÃ¶rmek Ä°stediÄŸiniz Mekan",category:"Kategori",selectCategory:"SeÃ§iniz",suggestion:"Ã–neri",complaint:"Åžikayet",compliment:"TeÅŸekkÃ¼r",featureRequest:"Ã–zellik Ä°steÄŸi",other:"DiÄŸer",yourMessage:"MesajÄ±nÄ±z",send:"GÃ¶nder",cancel:"Ä°ptal",sending:"GÃ¶nderiliyor...",thankYou:"TeÅŸekkÃ¼rler!",error:"Hata!",waiterCalled:"Garson Ã§aÄŸÄ±rÄ±ldÄ±!",waiterComingSoon:"En kÄ±sa sÃ¼rede yanÄ±nÄ±zda olacak",waiterRateLimit:"Garson Ã‡aÄŸÄ±rma Limiti",remainingTime:"Kalan SÃ¼re:",memberInfo:"Ãœye kullanÄ±cÄ±lar 10 dakikada bir garson Ã§aÄŸÄ±rabilir",guestInfo:"Misafirler 30 dakikada bir garson Ã§aÄŸÄ±rabilir",becomeMember:"Ãœye olun ve 10 dakikada bir Ã§aÄŸÄ±rÄ±n!",emailVerified:"Email adresiniz baÅŸarÄ±yla doÄŸrulandÄ±!",noProductsInCategory:"Bu kategoride Ã¼rÃ¼n bulunmamaktadÄ±r.",productLoading:"ÃœrÃ¼n YÃ¼kleniyor...",noProductsFound:"ÃœrÃ¼n bulunamadÄ±",noPrice:"Fiyat yok",noPriceInfo:"Fiyat bilgisi yok",addedToCart:"sepete eklendi!",earnTokensMessage:"Bu Ã¼rÃ¼nden {count} jeton kazanacaksÄ±nÄ±z",redeemTokensMessage:"{count} jeton ile bedava alabilirsiniz",ok:"Tamam",close:"Kapat",confirm:"Onayla",back:"Geri",search:"Ara",loading:"YÃ¼kleniyor..."},en:{profile:"My Profile",aiAssistant:"AI Assistant",waiterCall:"Call Waiter",games:"Play While Waiting",cart:"My Cart",callUs:"Call Us",sendSuggestion:"Send Suggestion",home:"Home",featuredProducts:"Featured Products",bestSelling:"Best Selling Products",price:"Price",addToCart:"Add to Cart",description:"Description:",noPriceMessage:"Please ask our waiter for price information",tokenEarn:"You will earn {amount} tokens from this product",tokenRedeem:"You can get it for free with {amount} tokens",previousProduct:"Previous Product",nextProduct:"Next Product",myCart:"My Cart",emptyCart:"Your cart is empty",total:"Total",placeOrder:"Place Order",note:"Note",myProfile:"My Profile",orders:"My Orders",tokens:"My Tokens",allergies:"My Allergies",settings:"Settings",login:"Login",register:"Register",logout:"Logout",suggestionTitle:"Suggestions & Feedback",suggestionSubtitle:"Your ideas are valuable to us!",name:"Name",nameOptional:"Name (Optional)",venueRequest:"Venue You Want to See",category:"Category",selectCategory:"Select",suggestion:"Suggestion",complaint:"Complaint",compliment:"Thank You",featureRequest:"Feature Request",other:"Other",yourMessage:"Your Message",send:"Send",cancel:"Cancel",sending:"Sending...",thankYou:"Thank You!",error:"Error!",waiterCalled:"Waiter called!",waiterComingSoon:"Will be with you shortly",waiterRateLimit:"Waiter Call Limit",remainingTime:"Remaining Time:",memberInfo:"Members can call waiter every 10 minutes",guestInfo:"Guests can call waiter every 30 minutes",becomeMember:"Become a member and call every 10 minutes!",emailVerified:"Your email has been successfully verified!",noProductsInCategory:"No products in this category.",productLoading:"Product Loading...",noProductsFound:"No products found",noPrice:"No price",noPriceInfo:"No price information",addedToCart:"added to cart!",earnTokensMessage:"You will earn {count} tokens from this product",redeemTokensMessage:"You can get it for free with {count} tokens",ok:"OK",close:"Close",confirm:"Confirm",back:"Back",search:"Search",loading:"Loading..."}};function f({children:a}){let[f,g]=(0,c.useState)("tr");return(0,c.useEffect)(()=>{let a=localStorage.getItem("preferredLanguage");("en"===a||"tr"===a)&&g(a)},[]),(0,b.jsx)(d.Provider,{value:{language:f,toggleLanguage:()=>{let a="tr"===f?"en":"tr";g(a),localStorage.setItem("preferredLanguage",a),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:a}}))},t:a=>e[f][a]||a},children:a})}function g(){let a=(0,c.useContext)(d);if(void 0===a)throw Error("useLanguage must be used within a LanguageProvider");return a}a.s(["LanguageProvider",()=>f,"useLanguage",()=>g])}];

//# sourceMappingURL=contexts_e7ee7fa2._.js.map