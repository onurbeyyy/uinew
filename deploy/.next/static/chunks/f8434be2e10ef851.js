(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(n,t,o)=>{t.exports=n.r(76562)},86474,n=>{"use strict";var t=n.i(43476),o=n.i(18566),i=n.i(71645);n.i(47167);var a=n.i(69573),e=n.i(84429),s=n.i(50871),c=n.i(49780);class r{connection=null;hubUrl;constructor(n="http://localhost:5071/okeyhub"){this.hubUrl=n}async connect(){this.connection?.state!==a.HubConnectionState.Connected&&(this.connection=new e.HubConnectionBuilder().withUrl(this.hubUrl,{skipNegotiation:!1,transport:s.HttpTransportType.WebSockets|s.HttpTransportType.LongPolling}).withAutomaticReconnect().configureLogging(c.LogLevel.Information).build(),await this.connection.start(),console.log("âœ… Okey Hub baÄŸlantÄ±sÄ± kuruldu"))}async disconnect(){this.connection&&(await this.connection.stop(),this.connection=null)}async lobbyeKatil(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("JoinLobby",n)}async lobbyOdalariniGetir(){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("GetLobbyRooms")}async getOdaBilgisi(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("GetOdaBilgisi",n)}async odaOlustur(n,t,o){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("OdaOlustur",n,t,o)}async odayaKatil(n,t,o){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("OdayaKatil",n,t,o)}async tasCek(n,t){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("TasCek",n,t)}async sonTasiAl(n,t){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("SonTasiAl",n,t)}async tasAt(n,t,o){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("TasAt",n,t,o)}async eliBitir(n,t){if(!this.connection)throw Error("BaÄŸlantÄ± yok");await this.connection.invoke("EliBitir",n,t)}async testTaslarDagit(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("TestTaslarDagit",n)}async testTasCek(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("TestTasCek",n)}async testKalanTasSayisi(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("TestKalanTasSayisi",n)}async testTasAt(n,t){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("TestTasAt",n,t)}async testAtilanTaslariAl(n){if(!this.connection)throw Error("BaÄŸlantÄ± yok");return await this.connection.invoke("TestAtilanTaslariAl",n)}onOdaOlusturuldu(n){this.connection?.on("odaOlusturuldu",n)}onOyuncuKatildi(n){this.connection?.on("oyuncuKatildi",n)}onOyunBasladi(n){this.connection?.on("oyunBasladi",n)}onTasCekildi(n){this.connection?.on("tasCekildi",n)}onOyuncuTasCekti(n){this.connection?.on("oyuncuTasCekti",n)}onTasAtildi(n){this.connection?.on("tasAtildi",n)}onOyuncuAyrildi(n){this.connection?.on("oyuncuAyrildi",n)}onSonTasAlindi(n){this.connection?.on("sonTasAlindi",n)}onOyunBitti(n){this.connection?.on("oyunBitti",n)}onHata(n){this.connection?.on("hata",n)}offAll(){this.connection?.off("odaOlusturuldu"),this.connection?.off("oyuncuKatildi"),this.connection?.off("oyunBasladi"),this.connection?.off("tasCekildi"),this.connection?.off("oyuncuTasCekti"),this.connection?.off("tasAtildi"),this.connection?.off("oyuncuAyrildi"),this.connection?.off("sonTasAlindi"),this.connection?.off("oyunBitti"),this.connection?.off("hata")}}let l=null;function u(){let n=(0,o.useParams)();(0,o.useRouter)();let a=n.odaId,[e,s]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),[h,d]=(0,i.useState)(""),y=async n=>{if(n.preventDefault(),!e.trim())return void d("LÃ¼tfen takma adÄ±nÄ±zÄ± girin");u(!0),d("");try{let n=(l||(l=new r("http://localhost:5071/okeyhub")),l);await n.connect();let t=await n.getOdaBilgisi(a);if(!t)throw Error("Oda bulunamadÄ±");let o=`oyuncu-${Date.now()}`;await n.odayaKatil(a,o,e),window.location.href=`/${t.venueCode}?game=okey`}catch(n){d(n.message||"Odaya katÄ±lÄ±namadÄ±"),u(!1)}};return(0,t.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,t.jsxs)("div",{className:"quiz-setup-modal",style:{maxWidth:"400px",width:"100%"},children:[(0,t.jsx)("h2",{children:"ðŸŽ² Okey Oyununa KatÄ±l"}),(0,t.jsxs)("p",{style:{textAlign:"center",color:"#95a5a6",fontSize:"14px",marginTop:"-10px",marginBottom:"20px",wordBreak:"break-all"},children:["Oda: ",(0,t.jsx)("span",{style:{color:"#3498db",fontFamily:"monospace"},children:a})]}),(0,t.jsxs)("form",{onSubmit:y,children:[(0,t.jsxs)("div",{className:"quiz-form-group",children:[(0,t.jsx)("label",{htmlFor:"nickname",children:"Takma Ad"}),(0,t.jsx)("input",{type:"text",id:"nickname",value:e,onChange:n=>s(n.target.value),placeholder:"Takma adÄ±nÄ±zÄ± girin",maxLength:20,required:!0,autoFocus:!0,disabled:c})]}),h&&(0,t.jsx)("div",{style:{padding:"12px",background:"rgba(231, 76, 60, 0.1)",border:"1px solid rgba(231, 76, 60, 0.3)",borderRadius:"8px",marginBottom:"15px",color:"#e74c3c",fontSize:"14px",textAlign:"center"},children:h}),(0,t.jsx)("button",{type:"submit",className:"quiz-create-game-btn",disabled:!e.trim()||c,children:c?"KatÄ±lÄ±yor...":"Odaya KatÄ±l"}),(0,t.jsx)("button",{type:"button",onClick:()=>window.history.back(),style:{width:"100%",marginTop:"10px",padding:"12px",background:"#34495e",color:"white",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseEnter:n=>n.currentTarget.style.background="#2c3e50",onMouseLeave:n=>n.currentTarget.style.background="#34495e",children:"â† Geri"})]})]})})}n.s(["default",()=>u],86474)}]);